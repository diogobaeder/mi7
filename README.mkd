Introduction
============

MI7 is my attempt at getting a spying/mocking/stubbing/"whatever you want to call"
library that actually stimulates me to write proper tests.

It's very easy to call on others for not writing enough tests. Doing proper TDD yourself,
now that's a different matter, isn't it?

Vision
======

My vision with MI7 is to create a mocking tool that is as Pythonic as possible.
This means that you should be able to keep your python code exactly as it is
supposed to be, and still be able to test things in isolation.

I'll try to illustrate with an example:

    @agent.spy(tests.controllers.User)
    def test_controller_verifies_if_user_is_authenticated():
        agents.User \
             .intercept('is_authenticated') \
             .returns(True)

        controller = tests.controllers.MyController()

        result = controller.index()

        assert result == "WooHoo"

        finish_mission()

        assert agents.User
                     .saw('is_authenticated')
                     .times == 1

Some concepts going on here:

* First there's the new mission decorator. What this decorator does is enter in
a RECORD mode that keeps track of all the spies we are sending to the mission
(cool metaphor, isn't it?). This is required so, no matter what happens, we
erase records of all our spies when the test is over (restore the rightful
classes).
* Then there's the spy.on action. This decorator instructs our spy on his
mission. He's supposed to keep watch of the User class in the
mysite.controllers module.
* The spies collection keeps track of all our spies until the end of the
mission. The agreement is that the spies will be known by their last name so
they are not entirely trackable (for their own safety). So in this case our spy
is codenamed User, which is the last part of it's full name. If we have a
superstar spy (aren't they all?), we can name him as he wants, like this -
.as('Bond').

Comedy apart, the main thing here is that the majority of my test is ABOUT the
business and not creating mocks and expectations.

Current State
=============

MI7 is still building it's new office and will not be operational for a while.

Keep checking this page to see the developments.
